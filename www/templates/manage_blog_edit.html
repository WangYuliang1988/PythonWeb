{% extends '__base__.html' %}

{% block title %}编辑日志{% endblock title %}

{% block beforehead %}
<link rel="stylesheet" href="/static/css/manage-blog-edit.css">
{% endblock beforehead %}

{% block content %}
<nav class="nav d-flex justify-content-center mb-4">
  <span class="p-2 text-muted">编写日志</span>
  <a class="p-2" href="/manage/blogs">日志管理</a>
  <a class="p-2" href="/manage/comments">评论管理</a>
  <a class="p-2" href="/manage/users">用户管理</a>
</nav>

<form class="form-blog needs-validation" id="vm" v-on:submit.prevent="onSubmit" novalidate>
  <p class="server-feedback text-center" id="error"></p>
  <div class="mb-3">
    <label for="inputName" class="sr-only">日志标题</label>
    <input type="text" class="form-control" id="inputName" v-model="name" placeholder="请输入日志标题" required>
    <div class="invalid-feedback">请输入正确的日志标题</div>
  </div>
  <div class="mb-3">
    <label for="inputSummary" class="sr-only">日志摘要</label>
    <textarea class="form-control" id="inputSummary" v-model="summary" placeholder="请输入日志摘要" rows="4" required></textarea>
    <div class="invalid-feedback">请输入正确的日志摘要</div>
  </div>
  <div class="mb-3">
    <label for="inputContent" class="sr-only">日志内容</label>
    <textarea class="form-control" id="inputContent" v-model="content" placeholder="请输入日志内容" rows="16" required></textarea>
    <div class="invalid-feedback">请输入正确的日志内容</div>
  </div>
  <div class="text-center"><button type="submit" class="btn btn-md btn-primary mt-2">发布</button></div>
</form>
{% endblock content %}

{% block beforebody %}
<script>var BLOG_ID = '{{ id }}';</script>
<script src="/static/js/manage-blog-edit.js"></script>
{% endblock beforebody %}